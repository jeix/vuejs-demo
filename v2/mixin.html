<!DOCTYPE html>
<meta charset="UTF-8">
<!--<script src="https://cdn.jsdelivr.net/npm/vue"></script>-->
<script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script>
<!--<script src="https://unpkg.com/vuex"></script>-->
<script src="https://unpkg.com/vuex@3.0.1/dist/vuex.js"></script>

<div id="app">
  <hello></hello>
</div>

<script>
let Counter = {
  data() {
    return {
      count: 0
    }
  },
  filters: {
    formal(count) {
      return (count < 10 ? '0' : '') + count
    }
  },
  methods: {
    increase() {
      if (this.count < 99) this.count++
    },
    decrease() {
      if (this.count > 0) this.count--
    }
  },
  created() {
    this.$options.template = /*html*/`<div>` +
        this.$options.template +
      /*html*/`<div>
        <button @click="decrease">-</button>
        <span>{{ count | formal }}</span>
        <button @click="increase">+</button>
      </div></div>`
  },
};

let Hello = {
  data() {
    return {
      message: 'Hello Vue!'
    }
  },
  template: /*html*/`<div>{{ message }}</div>`,
  mixins: [Counter],
};

let app = new Vue({
  el: '#app',
  components: { Hello },
});
</script>